{% extends 'header_layout.html' %}
{% load static %}
{% load humanize %}

{% block content %}
    <div class="root-container">
        <div class="country-container">
            <p class="title">Coronavirus (COVID-19) Tracker</p>
            <p class="description">
                Coronavirus (COVID-19) is an infectious disease caused by respiratory illness and symptoms like flu,
                cough, fever, difficulty breathing. And on <b>December 31, 2019</b>, the first case was recorded in
                Wuhan, China and later virus got spread around the globe, now almost <b id="header-total-confirmed">0</b> confirmed cases
                reported since then.
            </p>
            <p class="description">
                To get up to date results this website collects the data from
                <a href="https://github.com/CSSEGISandData/COVID-19" target="_blank">Johns Hopkins University Center for
                Systems Science and Engineering (JHU CSSE).</a>
            </p>
            <p class="time-period-label">Last Updated: <span class="time-period">{{ date }}</span></p>
            <div class="total-container">
                <div class="statistics">
                    <span class="count" id="total-confirmed">0</span>
                    <span class="label">CONFIRMED</span>
                </div>
                <div class="statistics">
                    <span class="count" id="total-deaths">0</span>
                    <span class="label">DEATHS</span>
                </div>
                <div class="statistics">
                    <span class="count" id="total-recovered">0</span>
                    <span class="label">RECOVERED</span>
                </div>
            </div>
            <div class="search-container">
                <span class="material-icons">search</span>
                <label>
                    <input type="text" class="search" id="input" placeholder="Search country">
                </label>
            </div>
            <div class="statistics-container"></div>
            <br/>
        </div>
        <div id="map"></div>
        <script>
            let totalCases = {{ total_cases|safe }};
            let statistics = {{ statistics|safe }};

            /*fetch('http://192.168.29.113:8000/', {
                method: 'POST',
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    "date": "01-26-2022"
                })
            }).then(resp => {
                console.log(resp)
            }).catch(err => {
               console.log(err)
            })*/
        </script>
        <script src="{% static 'js/statistics.js' %}"></script>
        <script src="{% static 'js/map.js' %}"></script>
    </div>
{% endblock %}